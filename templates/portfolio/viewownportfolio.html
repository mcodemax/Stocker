{% extends 'base.html' %}

{% block content %}

<div class="row justify-content-md-center">
    <div class="col-md-7 col-lg-5">
      <form method="POST" id="portfolio-form">
        <h3>{{ portfolio.name }}</h3>
        {{ form.hidden_tag() }}

        {% for field in form if field.widget.input_type != 'hidden' %}
          {% for error in field.errors %}
            <span class="text-danger">{{ error }}</span>
          {% endfor %}
          {{ field(placeholder=field.label.text, class="form-control main-layout-color") }}
        {% endfor %}

        <button class="btn btn-primary btn-block btn-lg">Add Ticker</button>
      </form>
    </div>
</div>

<div>
    <!-- loop thru here for each ticker in portfolio -->
    <div class="row justify-content-md-center">
        <div class="col-md-7 col-lg-5">
          {% for stock in portfolio.stocks %}
          <li id="{{stock.ticker}}">{{ stock.ticker }} <form action="/portfolio/{{ stock.portfolio_id }}/{{ stock.id }}/delete" method="POST">
              <button class="del-btn" type="submit">X</button>
            </form>
          </li>
          
          {% endfor %}
        </div>
    </div>
</div>

<div id="chart-holder">
  {% for stock in portfolio.stocks %}
    <div style="width:240px;height:240px;float:left">
      <canvas width="100" height="100" 
      class="chart" 
      id="{{ stock.ticker }}-ticker"></canvas>
    </div>  
  {% endfor %}
  <!-- maybe add quaitity of stock for each ticker above or below graph -->
  <div style="width:240px;height:240px;float:left">
    <canvas width="100" height="100" id="stock-chart2">
      
    </canvas>
  </div>
  <div style="width:240px;height:240px;float:left">
    <canvas width="100" height="100" id="stock-chart">
      
    </canvas>
  </div>
  
</div>
<!-- loop the stocks in the portfolio and generate a graph for each one -->

{% endblock %}